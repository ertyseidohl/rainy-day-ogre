<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: multipart.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: multipart.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 *  @file Contains the MultiPart class that serves as the
 *  base object for Ogres
 *
 *  @author mcverry
 */
;(function(exports){
    /**
     * @class
     * @classdef the base unit for multipart units like ogres
     * @augments PUnit
     * @param {UnitPart[]} parts - an array of part units
     * @param {Object} options - the options object
     */
    exports.MultiPart = function(parts, options){
        this.parts = {};
        for (var i in parts){
            elem = parts[i];
            try {
                this.parts[elem.getName()] = this.parts[elem.getName()].concat(elem);
            } catch(e) {
                this.parts[elem.getName()] = [elem];
            }
            elem.assignToOwner(this);
        }

        exports.PUnit.call(this, options);
    };

    exports.MultiPart.prototype = Object.create(exports.PUnit.prototype);
    exports.MultiPart.constructor = exports.MultiPart;

    /**
     * Removes a part from the MultiPart Unit's part manifest
     * @param {UnitPart} part - the part to be removed
     * @param {boolean} - returns true if an objected was removed, false otherwise
     */
    exports.MultiPart.prototype.partDestroy = function(part)  {
        return (this.parts[part.getName()].pop() &amp;&amp; true);
    };

    /**
     *  selectForAttack is overrided to enable multipart units to work
     *  @return {UnitPart[]} an array of the unit's parts
     */
    exports.MultiPart.prototype.selectForAttack = function(){
        res = [];
        for (var x in this.parts) {
            if (x.length > 0){
                res = res.concat(this.parts[x][0]);
            }
        }

        //if there are no more parts, and the unit is not dead (implicitly)
        //   then return the unit.
        if (res.length === 0) {
            return [this];
        }
        return res;
    };

})(window);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="MultiPart.html">MultiPart</a></li><li><a href="OgreMissile.html">OgreMissile</a></li><li><a href="OgreMk3.html">OgreMk3</a></li><li><a href="OgrePrimaryBattery.html">OgrePrimaryBattery</a></li><li><a href="OgreSecondaryBattery.html">OgreSecondaryBattery</a></li><li><a href="OgreTreads.html">OgreTreads</a></li><li><a href="PUnit.html">PUnit</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Fri Mar 27 2015 21:53:16 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
